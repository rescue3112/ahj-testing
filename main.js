(()=>{"use strict";class t{constructor(t){this.inputNo=t}definition(){let t=this.inputNo.slice(0,2);switch("4"!==t[0]&&"2"!==t[0]&&"5"!==t[0]||(t=t[0]),t){case"4":return"visa";case"2":return"mir";case"5":return"master";case"60":return"discover";case"30":return"diner_club";case"35":return"jcb";case"37":case"34":return"amex";default:return"the card is not in the system"}}}class i{constructor(t){this.parentEl=t,this.onSubmit=this.onSubmit.bind(this),this.onDefinition=this.onDefinition.bind(this)}static get markup(){return'\n            <h3>Check your credit card number</h3>\n            <ul class="cards list-unstyled">\n              <li><span class="card visa" title="Visa">Visa</span></li>\n              <li><span class="card master" title="Mastercard">Mastercard</span></li>\n              <li><span class="card amex" title="American Express">American Express</span></li>\n              <li><span class="card discover" title="Discover">Discover</span></li>\n              <li><span class="card jcb" title="JCB">JCB</span></li>\n              <li><span class="card diners_club" title="Diners Club">Diners Club</span></li>\n              <li><span class="card mir" title="Mir">Mir</span></li>\n            </ul>\n            <form id="form" class="form-inline">\n                <div class="form-group">\n                    <input class="form-control" id="card_number" name="card_number" type="text" placeholder="Credit card number">\n                    <button id="submitform" class="btn btn-success">Click to Validate</button>\n                </div>\n            </form>\n        '}static get selector(){return".form-inline"}static get inputSelector(){return".form-control"}static get submitSelector(){return".btn"}static get cardtSelector(){return".card"}bindToDom(){this.parentEl.innerHTML=i.markup,this.element=this.parentEl.querySelector(i.selector),this.input=this.parentEl.querySelector(i.inputSelector),this.submit=this.parentEl.querySelector(i.submitSelector),this.cards=Array.from(this.parentEl.querySelectorAll(i.cardtSelector)),this.element.addEventListener("submit",this.onSubmit),this.element.addEventListener("input",this.onDefinition)}onSubmit(t){t.preventDefault();const{value:i}=this.input;!function(t){const i=String(t);let e=0,s=!1;for(let t=i.length-1;t>=0;t-=1){let n=i[t].charCodeAt()-"0".charCodeAt();!0===s&&(n*=2),e+=parseInt(n/10,10),e+=n%10,s=!s}return e%10==0}(i)?(this.input.classList.add("invalid"),this.input.classList.remove("valid")):(this.input.classList.add("valid"),this.input.classList.remove("invalid"))}onDefinition(i){let e,s;i.preventDefault(),this.input.value.length>1&&(this.cards.forEach((t=>t.classList.add("invalidCard"))),e=new t(this.input.value).definition(),s=this.cards.find((t=>t.classList.contains(e))),s.classList.remove("invalidCard")),this.input.value.length<1&&this.cards.forEach((t=>t.classList.remove("invalidCard")))}}const e=document.querySelector(".container");new i(e).bindToDom()})();
//# sourceMappingURL=main.js.map